(this["webpackJsonpreact-vitrina"]=this["webpackJsonpreact-vitrina"]||[]).push([[0],{13:function(e,t,c){},14:function(e,t,c){},16:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),r=c(7),o=c.n(r),s=(c(13),c(14),c(0));function i(){return Object(s.jsx)("nav",{className:"green darken-1",children:Object(s.jsxs)("div",{className:"nav-wrapper",children:[Object(s.jsx)("a",{href:"#!",className:"brand-logo",children:"React Shop"}),Object(s.jsx)("ul",{id:"nav-mobile",className:"right hide-on-med-and-down",children:Object(s.jsx)("li",{children:Object(s.jsx)("a",{href:"!#",children:"Repo"})})})]})})}function l(){return Object(s.jsx)("footer",{className:"page-footer green lighten-4",children:Object(s.jsx)("div",{className:"footer-copyright",children:Object(s.jsxs)("div",{className:"container",children:[(new Date).getFullYear()," Copyright Text",Object(s.jsx)("a",{className:"grey-text text-lighten-4 right",href:"#!",children:"Repo"})]})})})}var d=c(8),j=c(2),u=c(3);function b(){return Object(s.jsx)("div",{className:"progress",children:Object(s.jsx)("div",{className:"indeterminate"})})}function O(e){var t=e.name,c=e.price,n=e.full_background,a=e.func,r=e.id;return Object(s.jsxs)("div",{id:r,className:"card",children:[Object(s.jsx)("div",{className:"card-image",children:Object(s.jsx)("img",{src:n,alt:t})}),Object(s.jsxs)("div",{className:"card-content",children:[Object(s.jsx)("span",{className:"card-title",children:t}),Object(s.jsxs)("h5",{children:[c," $"]})]}),Object(s.jsx)("div",{className:"card-action",children:Object(s.jsx)("button",{onClick:function(){return a({name:t,id:r,price:c})},className:"btn",children:"\u041a\u0443\u043f\u0438\u0442\u044c"})})]})}function f(e){var t=e.goods,c=e.func;return Object(s.jsx)("div",{className:"goods",children:t.map((function(e){return Object(s.jsx)(O,Object(j.a)({func:c},e),e.id)}))})}function m(e){var t=e.count,c=void 0===t?0:t,n=e.func;return Object(s.jsxs)("div",{onClick:n,className:"cart blue darken-4 white-text",children:[Object(s.jsx)("i",{className:"material-icons",children:"shopping_cart"}),c?Object(s.jsx)("span",{className:"cart-count",children:c}):null]})}function h(e){var t=e.name,c=e.price,n=e.count,a=e.id,r=e.deleteGood,o=e.addGood,i=e.removeGood;return Object(s.jsxs)("li",{className:"collection-item",children:[t," ",Object(s.jsx)("span",{onClick:function(){return o(a)},className:"material-icons cart-count",children:"add"})," x",n," ",Object(s.jsx)("span",{onClick:function(){i(a,n)},className:"material-icons cart-count",children:"remove"})," = ",n*c,"$",Object(s.jsx)("span",{onClick:function(){return r(a,n)},children:Object(s.jsx)("i",{className:"material-icons good-delete",children:"close"})})]})}function x(e){var t=e.order,c=e.cartClose,n=e.deleteGood,a=e.addGood,r=e.removeGood,o=t.reduce((function(e,t){return e+t.price*t.count}),0);return Object(s.jsx)("div",{className:"overlay","data-close":"close",children:Object(s.jsxs)("ul",{className:"collection modal-goods",children:[Object(s.jsx)("span",{className:"all-close",children:Object(s.jsx)("i",{onClick:c,className:"material-icons cart-close",children:"close"})}),Object(s.jsx)("li",{href:"#!",className:"collection-item active",children:"Basket"}),t.length?t.map((function(e){return Object(s.jsx)(h,Object(j.a)({addGood:a,removeGood:r,deleteGood:n,cartClose:c},e),e.id)})):Object(s.jsx)("h5",{className:"words",children:"\u041a\u043e\u0440\u0437\u0438\u043d\u0430 \u043f\u0443\u0441\u0442\u0430"}),Object(s.jsxs)("li",{href:"#!",className:"collection-item active",children:["Total Sum: ",o]})]})})}function v(e){var t=e.name,c=e.closeAlert,a=void 0===c?Function.prototype:c;return Object(n.useEffect)((function(){var e=setTimeout((function(){a()}),3e3);return function(){clearTimeout(e)}}),[t]),Object(s.jsx)("div",{id:"toast-container",children:Object(s.jsxs)("div",{className:"toast",children:[t," \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443"]})})}function p(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(!0),o=Object(u.a)(r,2),i=o[0],l=o[1],O=Object(n.useState)(function(){var e=localStorage.getItem("goods");return e?JSON.parse(e):[]}()),h=Object(u.a)(O,2),p=h[0],g=h[1],N=Object(n.useState)(!1),k=Object(u.a)(N,2),G=k[0],S=k[1],C=Object(n.useState)(""),w=Object(u.a)(C,2),y=w[0],I=w[1],E=function(){S(!G)};return document.addEventListener("click",(function(e){e.target.dataset.close&&S(!1)})),Object(n.useEffect)((function(){l(!0),fetch("https://fortniteapi.io/v1/shop?lang=ru",{headers:{Authorization:"55b37586-48c02e82-a4061bdf-90ddd40f"}}).then((function(e){return e.json()})).then((function(e){return a(e.featured)})),l(!1)}),[]),Object(n.useEffect)((function(){localStorage.setItem("goods",JSON.stringify(p))}),[p]),Object(s.jsxs)("div",{className:"container content",children:[Object(s.jsx)(m,{func:E,count:p.length}),i?Object(s.jsx)(b,{}):Object(s.jsx)(f,{func:function(e){var t=p.findIndex((function(t){return t.id===e.id}));if(t<0){var c=Object(j.a)(Object(j.a)({},e),{},{count:1});g([].concat(Object(d.a)(p),[c]))}else{var n=p.map((function(e,c){return t===c?Object(j.a)(Object(j.a)({},e),{},{count:e.count+1}):e}));g(n)}I(e.name)},goods:c}),G?Object(s.jsx)(x,{addGood:function(e){var t=p.findIndex((function(t){return t.id===e})),c=p.map((function(e,c){return c===t?Object(j.a)(Object(j.a)({},e),{},{count:e.count+1}):e}));g(c)},removeGood:function(e,t){var c=p.findIndex((function(t){return t.id===e})),n=p.map((function(e,t){if(t===c&&e.count>1){var n=e.count-1;return Object(j.a)(Object(j.a)({},e),{},{count:n>=0?n:0})}return e}));g(n)},deleteGood:function(e){var t=p.filter((function(t){return t.id!==e}));g(t),console.log(e)},cartClose:E,order:p}):null,y&&Object(s.jsx)(v,{name:y,closeAlert:function(){I("")}})]})}var g=function(){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(i,{}),Object(s.jsx)(p,{}),Object(s.jsx)(l,{})]})};o.a.render(Object(s.jsx)(a.a.StrictMode,{children:Object(s.jsx)(g,{})}),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.0f21abde.chunk.js.map