{"version":3,"sources":["components/Header.js","components/Footer.js","components/Preloader.js","components/GoodsList.js","components/GoodsItems.js","components/Cart.js","components/CartItem.js","components/CartList.js","components/Alert.js","components/Shop.js","config.js","App.js","index.js"],"names":["Header","className","href","id","Footer","Date","getFullYear","Preloader","GoodsList","props","name","price","full_background","func","src","alt","onClick","GoodsItems","goods","map","good","Cart","count","CartItem","deleteGood","addGood","removeGood","CartList","order","cartClose","totalSum","reduce","sum","current","length","Alert","closeAlert","Function","prototype","useEffect","timeId","setTimeout","clearTimeout","Shop","useState","setGoods","loading","setLoading","value","localStorage","getItem","JSON","parse","setValue","setOrder","CartShow","setCartShow","alertName","setAlertName","cartShow","document","addEventListener","event","target","dataset","close","fetch","headers","Authorization","process","then","response","json","data","featured","setItem","stringify","orderIndex","findIndex","goodItem","newGood","newOrder","goodOrder","index","addOrder","orderArr","newCount","goodId","filter","console","log","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"+NAAA,SAASA,IACL,OACI,qBAAKC,UAAU,iBAAf,SACI,sBAAKA,UAAU,cAAf,UACI,mBAAGC,KAAK,KAAKD,UAAU,aAAvB,wBACA,oBAAIE,GAAG,aAAaF,UAAU,6BAA9B,SACI,6BAAI,mBAAGC,KAAK,KAAR,2BCNxB,SAASE,IACL,OACI,wBAAQH,UAAU,8BAAlB,SACI,qBAAKA,UAAU,mBAAf,SACI,sBAAKA,UAAU,YAAf,WACK,IAAII,MAAOC,cADhB,kBAEI,mBAAGL,UAAU,iCAAiCC,KAAK,KAAnD,yB,yBCNpB,SAASK,IACL,OACI,qBAAKN,UAAU,WAAf,SACI,qBAAKA,UAAU,oBCH3B,SAASO,EAAUC,GAEf,IACIC,EAKAD,EALAC,KACAC,EAIAF,EAJAE,MACAC,EAGAH,EAHAG,gBACAC,EAEAJ,EAFAI,KACAV,EACAM,EADAN,GAGJ,OACI,sBAAKA,GAAIA,EAAIF,UAAU,OAAvB,UACA,qBAAKA,UAAU,aAAf,SACE,qBAAKa,IAAKF,EAAiBG,IAAKL,MAElC,sBAAKT,UAAU,eAAf,UACI,sBAAMA,UAAU,aAAhB,SAA8BS,IAC9B,+BAAKC,EAAL,WAEJ,qBAAKV,UAAU,cAAf,SACE,wBAAQe,QAAS,kBAAMH,EAAK,CAACH,OAAMP,KAAIQ,WAASV,UAAU,MAA1D,uDClBV,SAASgB,EAAWR,GAEhB,IAAOS,EAAeT,EAAfS,MAAOL,EAAQJ,EAARI,KAEd,OACI,qBAAKZ,UAAU,QAAf,SAEQiB,EAAMC,KAAI,SAACC,GACP,OAAO,cAACZ,EAAD,aAAWK,KAAMA,GAAwBO,GAAbA,EAAKjB,SCV5D,SAASkB,EAAKZ,GAEV,MAA0BA,EAAnBa,aAAP,MAAe,EAAf,EAAkBT,EAAQJ,EAARI,KAElB,OACQ,sBAAKG,QAASH,EAAMZ,UAAU,gCAA9B,UACA,mBAAGA,UAAU,iBAAb,2BAEIqB,EAAQ,sBAAMrB,UAAU,aAAhB,SAA8BqB,IAAgB,QCRtE,SAASC,EAASd,GAEd,IAAOC,EAA2DD,EAA3DC,KAAMC,EAAqDF,EAArDE,MAAOW,EAA8Cb,EAA9Ca,MAAOnB,EAAuCM,EAAvCN,GAAIqB,EAAmCf,EAAnCe,WAAYC,EAAuBhB,EAAvBgB,QAASC,EAAcjB,EAAdiB,WAEpD,OACI,qBAAIzB,UAAU,kBAAd,UACIS,EADJ,IACU,sBAAMM,QAAS,kBAAMS,EAAQtB,IAAKF,UAAU,4BAA5C,iBADV,KAC+FqB,EAD/F,IACsG,sBAAMN,QAAS,WAAOU,EAAWvB,EAAImB,IAASrB,UAAU,4BAAxD,oBADtG,MAC2MqB,EAAQX,EADnN,IAEI,sBAAMK,QAAS,kBAAMQ,EAAWrB,EAAImB,IAApC,SACI,mBAAGrB,UAAU,6BAAb,wBCNhB,SAAS0B,EAASlB,GAEd,IAAOmB,EAAqDnB,EAArDmB,MAAOC,EAA8CpB,EAA9CoB,UAAWL,EAAmCf,EAAnCe,WAAYC,EAAuBhB,EAAvBgB,QAASC,EAAcjB,EAAdiB,WAExCI,EAAWF,EAAMG,QAAO,SAACC,EAAKC,GAClC,OAAOD,EAAMC,EAAQtB,MAAQsB,EAAQX,QACpC,GAEH,OAEE,qBAAKrB,UAAU,UAAU,aAAW,QAApC,SACE,qBAAIA,UAAU,yBAAd,UACA,sBAAMA,UAAU,YAAhB,SACE,mBAAGe,QAASa,EAAW5B,UAAU,4BAAjC,qBAEJ,oBAAIC,KAAK,KAAKD,UAAU,yBAAxB,oBAEE2B,EAAMM,OACNN,EAAMT,KAAI,SAACC,GACT,OAAO,cAACG,EAAD,aAAUE,QAASA,EAASC,WAAYA,EAAYF,WAAYA,EAAYK,UAAWA,GAA6BT,GAAbA,EAAKjB,OAChH,oBAAIF,UAAU,QAAd,uFAEP,qBAAIC,KAAK,KAAKD,UAAU,yBAAxB,wBAA6D6B,UCtBnE,SAASK,EAAM1B,GAEX,IAAOC,EAAyCD,EAAzCC,KAAP,EAAgDD,EAAnC2B,kBAAb,MAA0BC,SAASC,UAAnC,EAcA,OAZAC,qBAAU,WACN,IAAMC,EAASC,YAAW,WACtBL,MACD,KAEH,OAAO,WACHM,aAAaF,MAIlB,CAAC9B,IAGA,qBAAKP,GAAG,kBAAR,SACI,sBAAKF,UAAU,QAAf,UACKS,EADL,2GCLZ,SAASiC,IACL,MAA0BC,mBAAS,IAAnC,mBAAO1B,EAAP,KAAc2B,EAAd,KACA,EAA8BD,oBAAS,GAAvC,mBAAOE,EAAP,KAAgBC,EAAhB,KACA,EAA0BH,mBAR9B,WACI,IAAMI,EAAQC,aAAaC,QAAQ,SACnC,OAAOF,EAAQG,KAAKC,MAAMJ,GAAS,GAMAK,IAAnC,mBAAOzB,EAAP,KAAc0B,EAAd,KACA,EAAgCV,oBAAS,GAAzC,mBAAOW,EAAP,KAAiBC,EAAjB,KACA,EAAkCZ,mBAAS,IAA3C,mBAAOa,EAAP,KAAkBC,EAAlB,KA0EMC,EAAW,WACbH,GAAaD,IA6BjB,OA1BAK,SAASC,iBAAiB,SAAS,SAACC,GAC7BA,EAAMC,OAAOC,QAAQC,OACtBT,GAAY,MAIlBjB,qBAAU,WACFQ,GAAW,GACXmB,MCxGI,yCDwGW,CACXC,QAAS,CACLC,cC5GJC,yCD+GHC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAG,GAAI,OAAI5B,EAAS4B,EAAKC,aAC5B3B,GAAW,KAEhB,IAEHR,qBAAU,WACNU,aAAa0B,QAAQ,QAASxB,KAAKyB,UAAUhD,MAC9C,CAACA,IAMA,sBAAK3B,UAAU,oBAAf,UACI,cAACoB,EAAD,CAAMR,KAAM8C,EAAUrC,MAAOM,EAAMM,SAE/BY,EAAU,cAACvC,EAAD,IAAgB,cAACU,EAAD,CAAYJ,KA5D3B,SAACO,GAEpB,IAAMyD,EAAajD,EAAMkD,WAAU,SAAAC,GAAQ,OAAIA,EAAS5E,KAAOiB,EAAKjB,MAEpE,GAAG0E,EAAa,EAAG,CACf,IAAMG,EAAO,2BACN5D,GADM,IAETE,MAAO,IAEXgC,EAAS,GAAD,mBAAK1B,GAAL,CAAYoD,SACjB,CACH,IAAMC,EAAWrD,EAAMT,KAAI,SAAC+D,EAAWC,GACnC,OAAGN,IAAeM,EACP,2BACAD,GADP,IAEI5D,MAAO4D,EAAU5D,MAAQ,IAGtB4D,KAGf5B,EAAS2B,GAETvB,EAAatC,EAAKV,OAqC8CQ,MAAOA,IAGnEqC,EAAW,cAAC5B,EAAD,CAAUF,QA7GjB,SAACtB,GACb,IAAM0E,EAAajD,EAAMkD,WAAU,SAAA1D,GAAI,OAAIA,EAAKjB,KAAOA,KAEjDiF,EAAWxD,EAAMT,KAAI,SAACC,EAAM+D,GAC9B,OAAGA,IAAUN,EACF,2BACAzD,GADP,IAEIE,MAAOF,EAAKE,MAAQ,IAGjBF,KAGfkC,EAAS8B,IAgGsC1D,WA7FhC,SAACvB,EAAImB,GACpB,IAAMuD,EAAajD,EAAMkD,WAAU,SAAA1D,GAAI,OAAIA,EAAKjB,KAAOA,KAEjDkF,EAAWzD,EAAMT,KAAI,SAACC,EAAM+D,GAC9B,GAAGA,IAAUN,GAAczD,EAAKE,MAAQ,EAAG,CACvC,IAAMgE,EAAWlE,EAAKE,MAAQ,EAC9B,OAAO,2BACAF,GADP,IAEIE,MAAOgE,GAAY,EAAIA,EAAW,IAGtC,OAAOlE,KAGfkC,EAAS+B,IA+E8D7D,WA3ExD,SAAC+D,GAChB,IAAMN,EAAWrD,EAAM4D,QAAO,SAAApE,GAAI,OAAIA,EAAKjB,KAAOoF,KAClDjC,EAAS2B,GACTQ,QAAQC,IAAIH,IAwEmF1D,UAAW8B,EAAU/B,MAAOA,IAAY,KAG/H6B,GAAa,cAACtB,EAAD,CAAOzB,KAAM+C,EAAWrB,WAvE9B,WACfsB,EAAa,UEjDNiC,MAVf,WACE,OACE,qCACA,cAAC3F,EAAD,IACA,cAAC2C,EAAD,IACA,cAACvC,EAAD,QCLJwF,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFlC,SAASmC,eAAe,W","file":"static/js/main.0f21abde.chunk.js","sourcesContent":["function Header() {\r\n    return (\r\n        <nav className=\"green darken-1\">\r\n            <div className=\"nav-wrapper\">\r\n                <a href=\"#!\" className=\"brand-logo\">React Shop</a>\r\n                <ul id=\"nav-mobile\" className=\"right hide-on-med-and-down\">\r\n                    <li><a href=\"!#\">Repo</a></li>\r\n                </ul>\r\n            </div>\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport { Header }","function Footer() {\r\n    return (\r\n        <footer className=\"page-footer green lighten-4\">\r\n            <div className=\"footer-copyright\">\r\n                <div className=\"container\">\r\n                    {new Date().getFullYear()} Copyright Text\r\n                    <a className=\"grey-text text-lighten-4 right\" href=\"#!\">\r\n                        Repo\r\n                    </a>\r\n                </div>\r\n            </div>\r\n        </footer>\r\n    )\r\n}\r\n\r\nexport { Footer }","function Preloader() {\r\n    return (\r\n        <div className=\"progress\">\r\n            <div className=\"indeterminate\"></div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport { Preloader }","function GoodsList(props) {\r\n\r\n    const {\r\n        name,\r\n        price, \r\n        full_background,\r\n        func,\r\n        id\r\n    } = props\r\n\r\n    return (\r\n        <div id={id} className=\"card\">\r\n        <div className=\"card-image\">\r\n          <img src={full_background} alt={name} />\r\n        </div>\r\n        <div className=\"card-content\">\r\n            <span className=\"card-title\">{name}</span>\r\n            <h5>{price} $</h5>\r\n        </div>\r\n        <div className=\"card-action\">\r\n          <button onClick={() => func({name, id, price})} className=\"btn\">Купить</button>\r\n        </div>\r\n      </div>\r\n    )\r\n}\r\n\r\nexport {GoodsList}","import { GoodsList } from \"./GoodsList\"\r\n\r\nfunction GoodsItems(props) {\r\n    \r\n    const {goods, func} = props\r\n\r\n    return (\r\n        <div className=\"goods\">\r\n            {\r\n                goods.map((good) => {\r\n                    return <GoodsList func={func} key={good.id} {...good} />\r\n                })\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport {GoodsItems}","function Cart(props) {\r\n\r\n    const {count = 0, func} = props\r\n\r\n    return (\r\n            <div onClick={func} className=\"cart blue darken-4 white-text\">\r\n            <i className=\"material-icons\">shopping_cart</i>\r\n            {\r\n                count ? <span className=\"cart-count\">{count}</span> : null\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport { Cart }","function CartItem(props) {\r\n\r\n    const {name, price, count, id, deleteGood, addGood, removeGood} = props\r\n\r\n    return (\r\n        <li className=\"collection-item\">\r\n           {name} <span onClick={() => addGood(id)} className=\"material-icons cart-count\">add</span> x{count} <span onClick={() => {removeGood(id, count)}} className=\"material-icons cart-count\">remove</span> = {count * price}$\r\n            <span onClick={() => deleteGood(id, count)}>\r\n                <i className=\"material-icons good-delete\">close</i>\r\n            </span>\r\n        </li>\r\n    )\r\n}\r\n\r\nexport {CartItem}","import { CartItem } from \"./CartItem\"\r\n\r\nfunction CartList(props) {\r\n\r\n    const {order, cartClose, deleteGood, addGood, removeGood} = props\r\n\r\n    const totalSum = order.reduce((sum, current) => {\r\n      return sum + current.price * current.count;\r\n    }, 0)\r\n    \r\n    return (\r\n        \r\n      <div className=\"overlay\" data-close=\"close\">\r\n        <ul className=\"collection modal-goods\">\r\n        <span className=\"all-close\"> \r\n          <i onClick={cartClose} className=\"material-icons cart-close\">close</i>\r\n        </span>\r\n      <li href=\"#!\" className=\"collection-item active\">Basket</li>\r\n      {\r\n        order.length ? \r\n        order.map((good) => {\r\n          return <CartItem addGood={addGood} removeGood={removeGood} deleteGood={deleteGood} cartClose={cartClose} key={good.id} {...good} />\r\n        }) : <h5 className=\"words\">Корзина пуста</h5>\r\n      }\r\n      <li href=\"#!\" className=\"collection-item active\">Total Sum: {totalSum}</li>\r\n    </ul>\r\n      </div>\r\n    )\r\n}\r\n\r\nexport {CartList}","import React, { useEffect } from 'react';\r\n\r\nfunction Alert(props) {\r\n    \r\n    const {name, closeAlert = Function.prototype} = props\r\n\r\n    useEffect(() => {\r\n        const timeId = setTimeout(() => {\r\n            closeAlert()\r\n        }, 3000)\r\n\r\n        return () => {\r\n            clearTimeout(timeId)\r\n        }\r\n\r\n        // eslint-disable-next-line\r\n    }, [name])\r\n\r\n    return (\r\n        <div id=\"toast-container\">\r\n            <div className=\"toast\">\r\n                {name} добавлен в корзину\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport {Alert}","import React, { useState, useEffect } from 'react';\r\nimport { API_URL, API_KEY } from '../config';\r\n\r\n\r\nimport { Preloader } from './Preloader';\r\nimport { GoodsItems } from './GoodsItems';\r\nimport { Cart } from './Cart';\r\nimport { CartList } from './CartList';\r\nimport { Alert } from './Alert';\r\n\r\nfunction setValue() {\r\n    const value = localStorage.getItem('goods')\r\n    return value ? JSON.parse(value) : []\r\n}\r\n\r\nfunction Shop() {\r\n    const [goods, setGoods] = useState([])\r\n    const [loading, setLoading] = useState(true)\r\n    const [order, setOrder] = useState(setValue())\r\n    const [CartShow, setCartShow] = useState(false)\r\n    const [alertName, setAlertName] = useState('')\r\n\r\n    const addGood = (id) => {\r\n        const orderIndex = order.findIndex(good => good.id === id)\r\n\r\n        const addOrder = order.map((good, index) => {\r\n            if(index === orderIndex) {\r\n                return {\r\n                    ...good,\r\n                    count: good.count + 1\r\n                }\r\n            } else {\r\n                return good\r\n            }\r\n        })\r\n        setOrder(addOrder)\r\n    }\r\n\r\n    const removeGood = (id, count) => {\r\n        const orderIndex = order.findIndex(good => good.id === id)\r\n\r\n        const orderArr = order.map((good, index) => {\r\n            if(index === orderIndex && good.count > 1) {\r\n                const newCount = good.count - 1\r\n                return {\r\n                    ...good,\r\n                    count: newCount >= 0 ? newCount : 0\r\n                }\r\n            } else {\r\n                return good\r\n            }\r\n        })\r\n        setOrder(orderArr)\r\n    }\r\n    \r\n\r\n    const deleteGood = (goodId) => {\r\n        const newOrder = order.filter(good => good.id !== goodId)\r\n        setOrder(newOrder)\r\n        console.log(goodId);\r\n    }\r\n    \r\n    \r\n    const closeAlert = () => {\r\n        setAlertName('')\r\n    }\r\n\r\n\r\n    const addGoodInOrder = (good) => {\r\n\r\n        const orderIndex = order.findIndex(goodItem => goodItem.id === good.id)\r\n\r\n        if(orderIndex < 0) {\r\n            const newGood = {\r\n                ...good,\r\n                count: 1\r\n            }\r\n            setOrder([...order, newGood])\r\n        } else {\r\n            const newOrder = order.map((goodOrder, index) => {\r\n                if(orderIndex === index) {\r\n                    return {\r\n                        ...goodOrder,\r\n                        count: goodOrder.count + 1\r\n                    }\r\n                } else {\r\n                    return goodOrder\r\n                }\r\n            })\r\n            setOrder(newOrder)\r\n        }\r\n            setAlertName(good.name)\r\n    }\r\n\r\n    const cartShow = () => {\r\n        setCartShow(!CartShow)\r\n    }\r\n\r\n    document.addEventListener('click', (event) => {\r\n        if(event.target.dataset.close) {\r\n          setCartShow(false)\r\n        }\r\n      })\r\n\r\n    useEffect(() => {\r\n            setLoading(true)\r\n            fetch(API_URL, {\r\n                headers: {\r\n                    Authorization: API_KEY\r\n                }\r\n            })\r\n            .then(response => response.json())\r\n            .then(data => setGoods(data.featured))\r\n            setLoading(false)\r\n\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        localStorage.setItem('goods', JSON.stringify(order))\r\n    }, [order])\r\n\r\n\r\n    \r\n\r\n    return (\r\n        <div className=\"container content\">\r\n            <Cart func={cartShow} count={order.length} />\r\n            {\r\n                loading ? <Preloader /> : <GoodsItems func={addGoodInOrder} goods={goods} />\r\n            }\r\n            {\r\n                CartShow ? <CartList addGood={addGood} removeGood={removeGood} deleteGood={deleteGood} cartClose={cartShow} order={order} /> : null\r\n            }\r\n            {\r\n                alertName && <Alert name={alertName} closeAlert={closeAlert} />\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport {Shop}","const API_KEY = process.env.REACT_APP_API_KEY\r\n\r\nconst API_URL = 'https://fortniteapi.io/v1/shop?lang=ru'\r\n\r\nexport {\r\n    API_KEY,\r\n    API_URL\r\n}","import './App.css';\nimport { Header } from './components/Header';\nimport {Footer} from './components/Footer'\nimport { Shop } from './components/Shop';\n\nfunction App() {\n  return (\n    <>\n    <Header />\n    <Shop />\n    <Footer />\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}